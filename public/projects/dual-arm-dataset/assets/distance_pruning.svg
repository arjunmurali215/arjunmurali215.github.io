<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 420">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50" text-anchor="middle">Distance-Based Pruning Metrics</text>
  
  <!-- Left Panel: Grasp Distance -->
  <rect x="30" y="60" width="360" height="340" rx="10" fill="#f8f9fa" stroke="#ddd" stroke-width="1"/>
  <text x="210" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Center-to-Center Distance</text>
  
  <!-- Object -->
  <ellipse cx="210" cy="220" rx="100" ry="70" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2"/>
  
  <!-- Grasp 1 center -->
  <circle cx="140" cy="200" r="8" fill="#27ae60"/>
  <text x="120" y="180" font-family="Arial, sans-serif" font-size="11" fill="#27ae60" font-weight="bold">p₁</text>
  
  <!-- Grasp 2 center -->
  <circle cx="280" cy="240" r="8" fill="#e74c3c"/>
  <text x="295" y="225" font-family="Arial, sans-serif" font-size="11" fill="#e74c3c" font-weight="bold">p₂</text>
  
  <!-- Distance line -->
  <line x1="140" y1="200" x2="280" y2="240" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="220" y="205" font-family="Arial, sans-serif" font-size="11" fill="#9b59b6" font-weight="bold">d_center</text>
  
  <!-- Axis 1 -->
  <line x1="100" y1="220" x2="180" y2="180" stroke="#27ae60" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="85" y="235" font-family="Arial, sans-serif" font-size="10" fill="#27ae60">v₁</text>
  
  <!-- Axis 2 -->
  <line x1="240" y1="260" x2="320" y2="220" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="325" y="235" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c">v₂</text>
  
  <!-- Angle indicator -->
  <path d="M 155 190 A 20 20 0 0 1 165 200" fill="none" stroke="#2c3e50" stroke-width="1"/>
  <text x="175" y="200" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">θ</text>
  
  <!-- Formula Box -->
  <rect x="50" y="310" width="320" height="75" rx="5" fill="#fff3cd" stroke="#f39c12" stroke-width="1"/>
  <text x="210" y="330" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#856404" text-anchor="middle">Combined Distance Metric</text>
  <text x="210" y="350" font-family="Arial, sans-serif" font-size="11" fill="#856404" text-anchor="middle">d(g₁, g₂) = ||p₁ - p₂|| + α · d_axis</text>
  <text x="210" y="370" font-family="Arial, sans-serif" font-size="10" fill="#856404" text-anchor="middle">d_axis = (2/π) · arccos(|v₁ · v₂|)</text>
  
  <!-- Right Panel: Wrist Distance -->
  <rect x="410" y="60" width="360" height="340" rx="10" fill="#f8f9fa" stroke="#ddd" stroke-width="1"/>
  <text x="590" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Wrist-to-Wrist Distance</text>
  
  <!-- Object -->
  <ellipse cx="590" cy="220" rx="100" ry="70" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2"/>
  
  <!-- Gripper 1 -->
  <rect x="475" y="130" width="50" height="15" rx="2" fill="#27ae60"/>
  <rect x="480" y="145" width="8" height="40" rx="1" fill="#229954"/>
  <rect x="512" y="145" width="8" height="40" rx="1" fill="#229954"/>
  
  <!-- Wrist 1 -->
  <circle cx="500" cy="120" r="6" fill="#3498db"/>
  <text x="470" y="115" font-family="Arial, sans-serif" font-size="11" fill="#3498db" font-weight="bold">w₁</text>
  
  <!-- Gripper 2 -->
  <rect x="655" y="130" width="50" height="15" rx="2" fill="#e74c3c"/>
  <rect x="660" y="145" width="8" height="40" rx="1" fill="#c0392b"/>
  <rect x="692" y="145" width="8" height="40" rx="1" fill="#c0392b"/>
  
  <!-- Wrist 2 -->
  <circle cx="680" cy="120" r="6" fill="#3498db"/>
  <text x="700" y="115" font-family="Arial, sans-serif" font-size="11" fill="#3498db" font-weight="bold">w₂</text>
  
  <!-- Wrist distance line -->
  <line x1="500" y1="120" x2="680" y2="120" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="590" y="110" font-family="Arial, sans-serif" font-size="11" fill="#9b59b6" font-weight="bold">d_wrist</text>
  
  <!-- Approach direction arrows -->
  <line x1="500" y1="90" x2="500" y2="110" stroke="#2c3e50" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="515" y="95" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">approach</text>
  
  <line x1="680" y1="90" x2="680" y2="110" stroke="#2c3e50" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <!-- Formula Box -->
  <rect x="430" y="310" width="320" height="75" rx="5" fill="#e8f4f8" stroke="#3498db" stroke-width="1"/>
  <text x="590" y="330" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2980b9" text-anchor="middle">Wrist Distance (Collision Avoidance)</text>
  <text x="590" y="350" font-family="Arial, sans-serif" font-size="11" fill="#34495e" text-anchor="middle">d_wrist = ||w₁ - w₂||</text>
  <text x="590" y="370" font-family="Arial, sans-serif" font-size="10" fill="#34495e" text-anchor="middle">w = grasp_center - depth · approach_axis</text>
</svg>
